<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<link href="css/default.css" rel="stylesheet" type="text/css" />
</h:head>

<h:form id="loginLink">
	<p:commandButton id="action" value="Login"
			ajax="true" onclick="dlg.show()"/>
	
</h:form>
<h:form id="myform">
	<div style="width:400px; display:none;" id="idPanel">
		<p:panel header="F.C. Barcelona">
			<h:outputText
				value="FC Barcelona is one of only three clubs never to have been relegated from La Liga and is the most successful club in Spanish football along with Real Madrid,  
	        having won twenty La Liga titles, a record twenty-five Spanish Cups, eight Spanish Super Cups, four Eva Duarte Cups and two League Cups.  
	        They are also one of the most successful clubs  in European football having won fourteen official major trophies in total,  
	        including ten UEFA competitions. They have won three UEFA Champions League titles, a record four UEFA Cup Winners' Cups,  
	        a record three InterCities Fairs Cups (the forerunner to the UEFA Europa League), three UEFA Super Cups and one FIFA Club World Cup.  
	        The club is also the only European side to have played continental football in every season since its inception in 1955." />
		</p:panel>
	</div>

<p:panel header="Area Administrativa">

							<p:growl id="messages" />

							<p:menubar>
								<p:submenu label="Categorias" icon="ui-icon-pencil">
									<p:menuitem value="Cadastrar" action="#{categoriaController.novaCat}"
										icon="ui-icon-arrowreturnthick-1-w" />
									<p:menuitem value="Exibir" action="#{mostrarCategorias}"
										icon="ui-icon-arrowreturnthick-1-e" />
								</p:submenu>
								<p:submenu label="Produtos" icon="ui-icon-pencil">
									<p:menuitem value="Cadastrar" action="#{produtoController.novoProd}"
										icon="ui-icon-arrowreturnthick-1-w" />
									<p:menuitem value="Exibir" action="mostrarProdutos"
										icon="ui-icon-arrowreturnthick-1-e" />
								</p:submenu>
								<p:submenu label="Compras" icon="ui-icon-pencil">
									<p:menuitem value="Exibir" action="mostrarCompras"
										icon="ui-icon-arrowreturnthick-1-e" />
								</p:submenu>

								<p:menuitem value="Sair" action="#{adminController.logout}" ajax="false"
									icon="ui-icon-close" />
							</p:menubar>
							
							
						</p:panel>



</h:form>

<p:growl id="growl" showDetail="true" life="3000" />
<p:dialog id="dialog" header="Login" widgetVar="dlg" resizable="false">
	<h:form>
		<h:panelGrid columns="2" cellpadding="5">
			<h:outputLabel for="username" value="Username:" />
			<p:inputText value="#{adminController.admin.usuario}" id="username"
				required="true" label="username" />

			<h:outputLabel for="password" value="Password:" />
			<h:inputSecret value="#{adminController.admin.senha}" id="ui-widget"
				required="true" label="password" />

			<f:facet name="footer">
				<p:commandButton id="loginButton" value="Login" update=":growl"
					actionListener="#{adminController.login}"
					oncomplete="handleLoginRequest(xhr, status, args)" />
			</f:facet>
		</h:panelGrid>

	</h:form>
</p:dialog>

<script type="text/javascript">
	function handleLoginRequest(xhr, status, args) {
		if (args.validationFailed || !args.loggedIn) {
			jQuery('#dialog').effect("shake", {
				times : 3
			}, 100);
		} else {
			dlg.hide();
			jQuery('#loginLink').fadeOut();
			jQuery('#idPanel').fadeIn("slow",
					 function() {
					        
					      });
			
			
			
		}
	}
</script>
</html>